# Copyright 2018-2019 Timo Gurr <tgurr@exherbo.org>
# Distributed under the terms of the GNU General Public License v2

require github [ user=hughsie ] \
    meson python [ blacklist=2 multibuild=false has_lib=false ]

SUMMARY="A library to help create and query binary XML blobs"

LICENCES="LGPL-2.1"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS="
    gobject-introspection
    gtk-doc
"

DEPENDENCIES="
    build:
        virtual/pkg-config
        gtk-doc? ( dev-doc/gtk-doc )
    build+run:
        dev-libs/glib:2[>=2.45.8]
        sys-apps/util-linux [[ note = [ for libuuid ] ]]
        gobject-introspection? ( gnome-desktop/gobject-introspection:1 )
"

MESON_SRC_CONFIGURE_PARAMS=(
    -Dstemmer=false
)
MESON_SRC_CONFIGURE_OPTION_SWITCHES=(
    'gobject-introspection introspection'
    'gtk-doc gtkdoc'
)
MESON_SRC_CONFIGURE_TESTS=(
    '-Dtests=true -Dtests=false'
)

