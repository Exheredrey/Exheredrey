# Copyright 2009 Ingmar Vanhassel
# Distributed under the terms of the GNU General Public License v2

require guile autotools [ supported_autoconf=[ 2.5 ] supported_automake=[ 1.15 1.11 1.10 ] ]

LICENCES="
  LGPL-2.1
  GPL-2 [[ note = [ readline module ] ]]
"
SLOT="1.8"
PLATFORMS="~amd64 ~arm ~x86"

# Tests fail to build: "fatal: making test-suite.log: failed to create
# stack-limit-calibration.scm.trs". I certainly tried to fix it, but failed.
# Upstream also doesn't seem to care about 1.8 anymore.
RESTRICT="test"

DEFAULT_SRC_PREPARE_PATCHES=(
    "${FILES}/${PN}-1.8.7-DESTDIR.patch"
    "${FILES}/${PN}-1.8.7-gcc-4.5-doc.patch"
    "${FILES}"/${PN}-1.8.8-Remove-umask-calls-from-mkdir.patch
    "${FILES}"/${PN}-1.8.8-Fix-texinfo-files-for-makeinfo-5.1.patch
)

