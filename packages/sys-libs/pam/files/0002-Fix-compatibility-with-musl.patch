From 61d4fe47726b2dc4d4c7e0308d7ae8d518dc8cae Mon Sep 17 00:00:00 2001
From: Marvin Schmidt <marv@exherbo.org>
Date: Wed, 7 Nov 2018 00:42:35 +0100
Subject: [PATCH 2/2] Fix compatibility with musl
Upstream: Issue: https://github.com/linux-pam/linux-pam/issues/32

---
 modules/pam_lastlog/pam_lastlog.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/modules/pam_lastlog/pam_lastlog.c b/modules/pam_lastlog/pam_lastlog.c
index 1a796b9..aa682b7 100644
--- a/modules/pam_lastlog/pam_lastlog.c
+++ b/modules/pam_lastlog/pam_lastlog.c
@@ -10,6 +10,7 @@
 
 #include "config.h"
 
+#include <paths.h>
 #include <fcntl.h>
 #include <time.h>
 #include <errno.h>
@@ -50,6 +51,10 @@ struct lastlog {
 # define _PATH_BTMP "/var/log/btmp"
 #endif
 
+#ifndef __GLIBC__
+#define logwtmp(args...)
+#endif
+
 /* XXX - time before ignoring lock. Is 1 sec enough? */
 #define LASTLOG_IGNORE_LOCK_TIME     1
 
-- 
2.19.1

